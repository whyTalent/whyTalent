Go语言里面拥三种类型的函数：

- 普通的带有名字的函数
- 匿名函数或者 lambda 函数
- 方法

   

## 1 函数声明

函数声明包括函数名、形式参数列表、返回值列表（可省略）以及函数体

```java
func 函数名(形式参数列表)(返回值列表){
    函数体
}
```

形式参数列表描述了函数的参数名以及参数类型，这些参数作为局部变量，其值由参数调用者提供，返回值列表描述了函数返回值的变量名以及类型，如果函数返回一个无名变量或者没有返回值，返回值列表的括号是可以省略的。

如果一个函数在声明时，包含返回值列表，那么该函数必须以 return 语句结尾，除非函数明显无法运行到结尾处，例如：函数在结尾时调用了 panic 异常或函数中存在无限循环。

每一次函数在调用时都必须按照声明顺序为所有参数提供实参（参数值），在函数调用时，**Go语言没有默认参数值**，也没有任何方法可以通过参数名指定形参，因此形参和返回值的变量名对于函数调用者而言没有意义。

在函数中，**实参通过值传递的方式进行传递**，因此函数的形参是实参的拷贝，对形参进行修改不会影响实参，但如果实参包括 **引用类型**，如 `指针`、`slice(切片)`、`map`、`function`、`channel`  等类型，实参可能会由于函数的间接引用被修改。

   

## 2 函数返回值

Go语言支持多返回值，多返回值能方便地获得函数执行后的多个返回参数，Go语言经常使用多返回值中的最后一个返回参数返回函数执行中可能发生的错误

```conn, err := connectToNetwork()
conn, err := connectToNetwork()
```

其中，connectToNetwork 返回两个参数，conn 表示连接对象，err 返回错误信息。

 

### 1）同一种类型返回值

如果返回值是同一种类型，则用括号将多个返回值类型括起来，用逗号分隔每个返回值的类型。使用 return 语句返回时，值列表的顺序需要与函数声明的返回值类型一致，示例代码如下：

```go
func typedTwoValues() (int, int) {
    return 1, 2
}
func main() {
    a, b := typedTwoValues()
    fmt.Println(a, b)
}
```

注：纯类型的返回值对于代码可读性不是很友好，特别是在同类型的返回值出现时，无法区分每个返回参数的意义

  

### 2）带有变量名的返回值

Go语言支持对返回值进行命名，这样返回值就和参数一样拥有参数变量名和类型。命名的返回值变量的默认值为类型的默认值，即数值为 0，字符串为空字符串，布尔为 false、指针为 nil 等。

下面代码中的函数拥有两个整型返回值，函数声明时将返回值命名为 a 和 b，因此可以在函数体中直接对函数返回值进行赋值，在命名的返回值方式的函数体中，在函数结束前需要显式地使用 return 语句进行返回，代码如下：

```go
func namedRetValues() (a, b int) {
    a = 1
    b = 2
    return
}
```

  

## 3 匿名函数

Go语言支持匿名函数，即在需要使用函数时再定义函数，匿名函数没有函数名只有函数体，函数可以作为一种类型被赋值给函数类型的变量，匿名函数也往往以变量方式传递，这与C语言的回调函数比较类似，不同的是，Go语言支持随时在代码里定义匿名函数。

```go
func(参数列表)(返回参数列表){
    函数体
}
```







